
const geometry = new THREE.IcosahedronGeometry(4, 30); // Radius is 4, detail is what makes it smooth.
const mesh = new THREE.Mesh(geometry, mat); 
scene.add(mesh);

// Using Audio Frequencies to animate the sphere.

const listener = new THREE.AudioListener();
camera.add(listener);


/*
const sound = new THREE.Audio(listener);
const file_name = '/franchise_remix.mp3';
const audio_loader = new THREE.AudioLoader();
audio_loader.load(file_name + "ERROR", (buffer) => {
    sound.setBuffer(buffer);

    const toggleSound = () => {
        sound.isPlaying ? sound.pause() : sound.play();
    };

    let clientClickX;
    let clientClickY;
    let dragging = false;
    window.addEventListener('mousedown', (event) => {
        clientClickX = event.clientX;
        clientClickY = event.clientY;
    });

    window.addEventListener('mouseup', (event) => {
        dragging = !(clientClickX === event.clientX && clientClickY === event.clientY);
    });

    window.addEventListener('click', (event) => {
        if (event.target.tagName !== 'CANVAS') return;
        if (dragging) return;
        toggleSound();
    });

    
});
*/

// Analysis of the audio.
const fft_size = 32; // Number of bins to analyze the audio frequencies.
//const analyser = new THREE.AudioAnalyser(sound, fft_size);
let analyser;
